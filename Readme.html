<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>singapore - Readme</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<style>
body {
  color: #000;
  background-color: #fff;
  font: small sans-serif;
}

p, pre {
  margin-left: 4em;
  margin-right: 2em;
}

li {
  margin-left: 5em;
  margin-right: 2em;
}

code {
  color: #006;
}

h1 {
  margin-left: 0.5em;
}

h2 {
  margin-left: 1em;
}

h3, h4 {
  margin-left: 2em;
}

.note {
  color: #d00;
}

.boxed {
  border: 1px dashed #ccc;
  padding: 0.5em;
}
</style>
</head>

<body>



<h1>singapore v0.9.3 - Readme</h1>

<ul>
  <li><a href="#release">Release notes</a></li>
  <li><a href="#history">Changes</a></li>
  <li><a href="#license">License information</a></li>
  <li><a href="#install">Installation</a></li>
  <li><a href="#managing">Gallery management</a></li>
  <li><a href="#iifn">Info in filename</a></li>
  <li><a href="#features">Proposed features for future versions</a></li>
  <li><a href="#history">Version history</a></li>
  <li><a href="Development.html">Developer documentation</a></li>
</ul>

<h2><a name="license">Licensing information</a></h2>

<pre>
 /* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\
 *  <a href="http://singapore.sourceforge.net/">singapore</a> - Copyright 2003 Tamlyn Rhodes &lt;<a href="mailto:tam@zenology.org">tam@zenology.org</a>&gt;        *
 *                                                                     *
 *  singapore is free software; you can redistribute it and/or modify  *
 *  it under the terms of the <a href="License.txt">GNU General Public License</a> as published  *
 *  by the Free Software Foundation; either version 2 of the License,  *
 *  or (at your option) any later version.                             *
 *                                                                     *
 *  singapore is distributed in the hope that it will be useful,       *
 *  but WITHOUT ANY WARRANTY; without even the implied warranty        *
 *  of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.            *
 *  See the GNU General Public License for more details.               *
 *                                                                     *
 *  You should have received a copy of the GNU General Public License  *
 *  along with this; if not, write to the Free Software Foundation,    *
 *  Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA      *
 \* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */
</pre>

<p>In addition to the terms of the GNU General Public License, you are not 
permitted to modify or remove the following HTML comment in 
<code>includes/header.php</code>:</p>

<p class="boxed">This file was generated by singapore &lt;http://singapore.sourceforge.net&gt;<br />
Singapore is free software released under the terms of the GNU GPL.</p>

<p>You are also kindly requested not to modify or remove the following text in 
<code>includes/footer.php</code>:</p>

<p class="boxed">Powered by <a href="http://singapore.sourceforge.net/">singapore v0.9.3</a></p>

<h2><a name="release">Release notes</a></h2>

<p>This is a recommended update as it fixes a security hole in the admin section.
It also introduces a new theme and hit logging. Upgrading should be simple. Just 
conserve your galleries/ directory and any changes you may have made to 
config.php and overwrite all other files.</p>

<h2><a name="install">Installation</a></h2>

<p><strong>singapore</strong> should work 'out of the box' but there are many 
things that can be done to customise it to your needs. Here are some:</p>

<p>Things you MUST do:</p>
<ul>
  <li>Extract all the files in the archive, conserving the directory hierarchy, 
  to a directory accessible by your web server.</li>
</ul>

<p>Things you SHOULD do:</p>
<ul>
  <li>Add some galleries and images into the <code>galleries/</code> directory 
  (and remove the example ones provided). <a href="#managing">More info</a>.<br />
  <span class="note">NOTE: A future release will allow all gallery creation and 
  management via the web interface but this is not yet implemented.</span></li>

  <li>Set file permissions. This part is dependant on your operating system and 
  web server setup and can seem quite daunting to a beginner. Your best bet, if 
  you need help, is to contact your server administrator. If you are the 
  administrator and still need help then RTFM! Here is the list of files and 
  directories that need to be writeable by the web server:
  <ul>
    <li><code>cache/</code></li>
    <li><code>galleries/</code> and all subdirectories and files</li>
    <li><code>includes/adminusers.csv</code></li>
  </ul>  
  <span class="note">NOTE: There must be at least one gallery in <code>galleries/</code> or the script 
  will fall over. This will be fixed in a future release.</span>
  </li>

  <li>Log into the admin section and change the password. The username is 
  <code>admin</code> and the default password is <code>password</code>. <br /><span class="note">NOTE: 
  a future release will allow multiple admin users with different passwords.</span></li>
</ul>

<p>Things you MIGHT do:</p>
<ul>
  <li>Edit the values in <code>includes/config.php</code>. The file is commented
  and should be self-explanatory but for most purposes the default values will 
  be fine.</li>
  
  <li>Edit <code>includes/header.php</code> and <code>includes/footer.php</code>
  or use your own custom header and/or footer files by editing the paths in 
  <code>includes/config.php</code>.</li>

  <li>Make custom "themes" using CSS. <a href="#themes">More info</a>.</li>
  
  <li>If your PHP installation uses GD version 2.0.1 or later then you can get 
  nicer generated thumbnails by changing two lines of code in <code>thumb.php</code>. 
  Edit lines 61-65 from the following:
<pre class="boxed">$thumb = ImageCreate($x,$y);
<b>//</b>$thumb = ImageCreateTrueColor($x,$y);

ImageCopyResized($thumb,$image,0,0,0,0,$x,$y,$imgSize[0],$imgSize[1]);
<b>//</b>ImageCopyResampled($thumb,$image,0,0,0,0,$x,$y,$imgSize[0],$imgSize[1]);</pre>

To the following:

<pre class="boxed"><b>//</b>$thumb = ImageCreate($x,$y);
$thumb = ImageCreateTrueColor($x,$y);
    
<b>//</b>ImageCopyResized($thumb,$image,0,0,0,0,$x,$y,$imgSize[0],$imgSize[1]);
ImageCopyResampled($thumb,$image,0,0,0,0,$x,$y,$imgSize[0],$imgSize[1]);</pre>

  </li>
</ul>


<h2><a name="managing">Managing your galleries</a></h2>

<p class="note">NOTE: In a future release all gallery management functionality 
will be provided via the web interface but in the meantime an alternative method is
required.</p>

<p>If using the <a href="#iifn">info in file name</a> system then all management can be done 
directly on the files using, for example, an ftp client. To create new galleries
simply create a new subdirectory of <code>galleries/</code>. To add, move or delete 
images in a gallery simply add, move or delete the image files in the 
appropriate directory.</p>

<p>If using metadata files (recommended) then more care is needed. Currently the best way to 
make galleries is to create a subdirectory of <code>galleries/</code> for each gallery and 
populate it with images. Then log-in to admin, navigate to the new gallery and 
click on "Edit current gallery" or "Edit current image" on the Admin bar. You can the enter as much or 
as little information about each image and gallery as you want and it will be saved into a 
CSV file. Note, however, that this method does not yet allow 
addition or removal of images once the gallery has been created. If you feel up to the task of 
editing the metadata files manually (not as difficult as it sounds - use Excel or equivalent) 
then you may manipulate your gallery however you want. See  
the <a href="Development.html#csvformat">database format description</a>.

<h2><a name="iifn">Info in file name</a></h2>

<p>If <strong>singapore</strong> doesn't find a metadata file in a gallery it will try to 
extract some sensible information from the image file and directory names as 
follows:</p>

<p>Underscores (_) are converted to spaces and the file extension is discarded 
by removing all characters after the last . (dot) in the filename. If a filename or 
directory name contains the sequence '<code>_-_</code>' (underscore hyphen underscore) 
or '<code> - </code>' (space hyphen space) then the name will be split on this
separator. The first half will be interpreted as the artist name and the second 
half will be interpreted as the gallery or image name depending on context. If
a separator is not found then the file or directory name is interpreted as the
image or gallery name, respectively.</p>

<p>For example <code>Holiday_Snaps/Tamlyn_Rhodes_-_Pretty_picture_of_Sunset.jpg</code>
will be translated into an image called "Pretty picture of Sunset" by "Tamlyn 
Rhodes" in a gallery called "Holiday Snaps".</p>



<h2><a name="history">Version history</a></h2>

<p> Key to symbols:<br />
+ added<br />
- removed<br />
* fixed<br />
o changed
</p>

<h3>0.9.3</h3>

<p>
+ added config option for generated thumbnail JPEG quality<br />
* handles extended characters in gallery ansd image names<br />
* fixed 'images link back to correct page of gallery'<br />
+ added directory_mode and file_mode options<br />
* track_views and show_views now work indepentantly<br />
</p>

<h3>0.9.2 - 2003-04-27</h3>

<p>
* fixed non-expiration of admin sessions in some cases<br />
+ added purge cached thumbnails option<br />
+ new 'XP' theme<br />
* fixed hit logging functions<br />
+ added image hit log viewing in admin mode<br />
+ images link back to correct page of gallery<br />
o optimised config.php<br />
* fixed some css issues<br />
</p>

<h3>0.9.1 - 2003-04-23</h3>

<p>
o changed database format<br />
+ added visible database fields for artist email, darkroom manipulation and
  digital manipulation<br />
+ added invisible (control) database fields for thumbnail, owner, groups and categories<br />
o put header and footer code into separate files<br />
+ implemented limited themeing support<br />
+ added config options for custom paths to cache, galleries, logs, themes, 
  header, footer and custom css<br />
o improved navigation in admin mode<br />
+ added optional script execution timer<br />
* fixed proliferation of newlines in 'desc' field<br />
* fixed wrongly escaped characters when saving info<br />
</p>

<h3>0.9a - 2003-04-13</h3>

<p>
+ added much better documentation
</p>

<h3>0.9 - 2003-03-30</h3>

<p>
+ admin section (allows editing image and gallery info)<br />
+ nicer gallery list layout<br />
+ filename parser for if no metadata file found<br />
o split into separate include files for io operations, ui generation etc<br />
* fixed some css issues<br />
+ lots of other little things
</p>

<h3>0.0 (unnumbered version) - 2003-03-29</h3>

<p>
o first release under GPL<br />
+ everything
</p>

<p><em>$Date: 2003/05/07 21:26:08 $</em></p>

</body>
</html>
